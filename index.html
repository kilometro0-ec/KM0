<!DOCTYPE html>
<html class="dark" lang="es" translate="no">
<head>
    <meta charset="utf-8"/>
    <meta name="google" content="notranslate" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>Login Seguro - Kilómetro Cero</title>
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "km0-red": "#EC1313",
                        "km0-grey": "#8E8E8E",
                        "background-dark": "#000000",
                    },
                },
            },
        }
    </script>

    <style type="text/tailwindcss">
        @layer base {
            body { @apply bg-black text-white font-['Inter'] overflow-x-hidden; -webkit-tap-highlight-color: transparent; }
        }
        input:focus { outline: none; box-shadow: none !important; }
        .input-error { @apply border-km0-red bg-km0-red/10 !important; }
        .btn-active:active { transform: scale(0.96); transition: 0.1s; }
    </style>
</head>

<body class="min-h-screen flex flex-col items-center justify-center p-6">

    <div class="w-full max-w-[360px] flex flex-col items-center">
        
        <div class="mb-8 flex flex-col items-center">
            <div class="w-48 h-48 mb-2 flex items-center justify-center">
                <img src="logo trans.jpg" alt="Kilómetro Cero Logo" class="w-full h-full object-contain">
            </div>
            <p class="text-[10px] tracking-[0.5em] uppercase text-km0-grey font-bold">Logistics Systems</p>
        </div>

        <div class="w-full space-y-4">
            <div id="email-group">
                <label class="text-[10px] font-bold uppercase tracking-widest text-km0-grey ml-1">Correo Corporativo</label>
                <div class="relative mt-1">
                    <input id="email-input" type="email" autocomplete="email"
                        class="w-full bg-white/5 border-b-2 border-white/10 py-4 px-4 text-white focus:border-km0-red transition-all rounded-t-lg" 
                        placeholder="usuario@k0.com">
                </div>
                <p id="email-error" class="hidden text-[10px] text-km0-red mt-1 font-bold uppercase tracking-tighter italic">Formato de correo no válido o no autorizado</p>
            </div>

            <div>
                <label class="text-[10px] font-bold uppercase tracking-widest text-km0-grey ml-1">Contraseña</label>
                <div class="relative mt-1">
                    <input id="pass-input" type="password" 
                        class="w-full bg-white/5 border-b-2 border-white/10 py-4 px-4 text-white focus:border-km0-red transition-all rounded-t-lg" 
                        placeholder="••••••••">
                </div>
            </div>

            <button id="btn-entrar" class="btn-active w-full bg-km0-red text-white py-4 font-black text-sm tracking-[0.2em] uppercase shadow-lg shadow-km0-red/20 mt-4 transition-all">
                ACCEDER
            </button>
        </div>

        <div class="w-full mt-12 space-y-4">
            <div class="bg-white/5 border border-white/10 p-5 rounded-xl flex items-center justify-between">
                <h3 class="text-[11px] font-black uppercase">Registro Tienda</h3>
                <button class="btn-active px-4 py-2 bg-white text-black font-black text-[10px] uppercase">Ir</button>
            </div>
        </div>

    </div>

    <script>
        const emailInput = document.getElementById('email-input');
        const emailError = document.getElementById('email-error');
        const btnEntrar = document.getElementById('btn-entrar');

        // Función de Validación de Seguridad
        function validarSeguridad(email) {
            // Regex estándar para validación de email
            const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            // Verificación adicional: Evitar inyección de scripts básicos
            if (email.includes('<') || email.includes('>') || email.includes('script')) {
                return false;
            }
            
            return regex.test(email);
        }

        btnEntrar.addEventListener('click', function() {
            const emailValue = emailInput.value.trim();
            
            if (!validarSeguridad(emailValue)) {
                // Mostrar error visual
                emailInput.classList.add('input-error');
                emailError.classList.remove('hidden');
                
                // Vibración de error (si el dispositivo lo soporta)
                if (window.navigator.vibrate) window.navigator.vibrate(100);
                
                return;
            }

            // Si es válido, proceder
            emailInput.classList.remove('input-error');
            emailError.classList.add('hidden');
            
            this.innerText = "VERIFICANDO...";
            this.classList.add('opacity-50', 'pointer-events-none');

            setTimeout(() => {
                // Redirección al Dashboard
                window.location.href = "index.html"; 
            }, 1200);
        });

        // Limpiar error al escribir
        emailInput.addEventListener('input', () => {
            emailInput.classList.remove('input-error');
            emailError.classList.add('hidden');
        });

        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>
