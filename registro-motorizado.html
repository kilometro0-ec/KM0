<!DOCTYPE html>
<html class="dark" lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>Kil√≥metro Cero - Registro Motorizado</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap" rel="stylesheet"/>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ec1313",
                        "background-light": "#f8f6f6",
                        "background-dark": "#121212",
                    },
                    fontFamily: { "display": ["Inter"] },
                },
            },
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        .step-content { display: none; }
        .step-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen flex flex-col font-display">

<header class="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-white/10 px-4 py-3 flex items-center justify-between">
    <button onclick="handleBack()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-200 dark:hover:bg-white/10 transition-colors">
        <span class="material-symbols-outlined">arrow_back_ios_new</span>
    </button>
    <div class="text-center">
        <h1 class="text-sm font-bold uppercase tracking-widest text-primary">Kil√≥metro Cero</h1>
        <p id="header-subtitle" class="text-xs text-slate-500 dark:text-slate-400 font-medium">Registro de Mensajero</p>
    </div>
    <button class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-200 dark:hover:bg-white/10 transition-colors">
        <span class="material-symbols-outlined">help_outline</span>
    </button>
</header>

<main class="flex-1 px-4 py-6 max-w-md mx-auto w-full">
    <div class="mb-8">
        <div class="flex justify-between items-end mb-2">
            <div>
                <h2 id="step-title-text" class="text-2xl font-bold">Paso 1 de 2</h2>
                <p id="step-desc-text" class="text-slate-500 dark:text-slate-400 text-sm">Datos Personales y Veh√≠culo</p>
            </div>
            <span id="progress-percent" class="text-primary font-bold text-sm">35%</span>
        </div>
        <div class="h-2 w-full bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden">
            <div id="progress-bar" class="h-full bg-primary rounded-full transition-all duration-500" style="width: 35%;"></div>
        </div>
    </div>

    <form id="main-form" class="pb-24">
        <div id="step-1" class="step-content active space-y-6">
            <section class="flex flex-col items-center mb-8">
                <div class="w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 border border-primary/20">
                    <span class="material-symbols-outlined text-primary text-5xl" style="font-variation-settings: 'FILL' 1">shield_person</span>
                </div>
                <h3 class="text-xl font-bold italic">Mensajer√≠a de Alta Seguridad</h3>
            </section>

            <div class="space-y-4">
                <div>
                    <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">Nombre Completo *</label>
                    <input id="nombre" required type="text" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 px-4 focus:ring-2 focus:ring-primary text-sm" placeholder="Ej: Juan P√©rez">
                </div>
                <div>
                    <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">Correo Electr√≥nico *</label>
                    <input id="email" required type="email" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 px-4 focus:ring-2 focus:ring-primary text-sm" placeholder="correo@ejemplo.com">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">C√©dula *</label>
                        <input id="cedula" required maxlength="10" type="text" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 px-4 focus:ring-2 focus:ring-primary text-sm" placeholder="10 d√≠gitos">
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">Tel√©fono *</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-primary font-bold text-xs">+593</span>
                            <input id="tel" required maxlength="9" type="tel" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 pl-12 pr-2 focus:ring-2 focus:ring-primary text-sm" placeholder="987654321">
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">Placa Moto *</label>
                        <input id="placa" required type="text" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 px-4 focus:ring-2 focus:ring-primary text-sm uppercase" placeholder="IU-595T">
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold uppercase text-slate-500 mb-1 ml-1">Marca *</label>
                        <input id="marca" required type="text" class="w-full bg-slate-100 dark:bg-white/5 border-none rounded-xl py-4 px-4 focus:ring-2 focus:ring-primary text-sm" placeholder="Ej: Yamaha">
                    </div>
                </div>
            </div>

            <button type="button" onclick="goToStep2()" class="w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/20 flex items-center justify-center gap-2 mt-8 active:scale-95 transition-all">
                CONTINUAR AL PASO 2
                <span class="material-symbols-outlined">arrow_forward</span>
            </button>
        </div>

        <div id="step-2" class="step-content space-y-6">
            <section class="p-6 rounded-xl bg-slate-100 dark:bg-white/5 border border-slate-200 dark:border-white/10 flex flex-col items-center">
                <div class="mb-4 text-center">
                    <h3 class="font-bold text-lg">Validaci√≥n Biom√©trica</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400 mt-1">Siga las instrucciones para el video selfie</p>
                </div>
                <div class="relative w-40 h-40 rounded-full border-4 border-primary p-1 mb-4 overflow-hidden shadow-lg shadow-primary/20">
                    <div class="w-full h-full rounded-full bg-slate-800 flex items-center justify-center overflow-hidden">
                        <img class="w-full h-full object-cover opacity-60 grayscale" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Biometric"/>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-24 h-32 border-2 border-white/50 rounded-[50%] animate-pulse"></div>
                        </div>
                    </div>
                    <div class="absolute bottom-2 right-2 bg-primary text-white text-[10px] px-2 py-0.5 rounded-full font-bold animate-pulse">REC</div>
                </div>
                <button type="button" class="w-full bg-primary text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2">
                    <span class="material-symbols-outlined">videocam</span> Grabar Video Selfie
                </button>
                <p class="text-[10px] text-slate-400 mt-3 text-center uppercase">üîí Encriptaci√≥n activa</p>
            </section>

            <div class="space-y-4">
                <h3 class="font-bold text-lg px-1 text-primary italic uppercase tracking-tighter">Carga de Documentos Obligatorios</h3>
                
                <div class="document-item flex items-center p-4 bg-white dark:bg-white/5 rounded-xl border border-slate-200 dark:border-white/10">
                    <span class="material-symbols-outlined text-primary text-3xl">badge</span>
                    <div class="ml-4 flex-1">
                        <h4 class="font-bold text-sm">C√©dula de Identidad</h4>
                        <p class="text-[10px] text-slate-500 uppercase">Ambos lados legibles</p>
                    </div>
                    <input type="file" id="file-cedula" class="hidden" required>
                    <button type="button" onclick="document.getElementById('file-cedula').click()" class="px-4 py-2 bg-slate-100 dark:bg-white/10 rounded-lg text-xs font-bold hover:bg-primary hover:text-white transition-all">SUBIR</button>
                </div>

                <div class="document-item flex items-center p-4 bg-white dark:bg-white/5 rounded-xl border border-slate-200 dark:border-white/10">
                    <span class="material-symbols-outlined text-primary text-3xl">license</span>
                    <div class="ml-4 flex-1">
                        <h4 class="font-bold text-sm">Licencia de Conducir</h4>
                        <p class="text-[10px] text-slate-500 uppercase">Tipo A o B vigente</p>
                    </div>
                    <input type="file" id="file-licencia" class="hidden" required>
                    <button type="button" onclick="document.getElementById('file-licencia').click()" class="px-4 py-2 bg-slate-100 dark:bg-white/10 rounded-lg text-xs font-bold hover:bg-primary hover:text-white transition-all">SUBIR</button>
                </div>

                <div class="document-item flex items-center p-4 bg-white dark:bg-white/5 rounded-xl border border-slate-200 dark:border-white/10">
                    <span class="material-symbols-outlined text-primary text-3xl">two_wheeler</span>
                    <div class="ml-4 flex-1">
                        <h4 class="font-bold text-sm">Matr√≠cula Vehicular</h4>
                        <p class="text-[10px] text-slate-500 uppercase">A√±o en curso</p>
                    </div>
                    <input type="file" id="file-matricula" class="hidden" required>
                    <button type="button" onclick="document.getElementById('file-matricula').click()" class="px-4 py-2 bg-slate-100 dark:bg-white/10 rounded-lg text-xs font-bold hover:bg-primary hover:text-white transition-all">SUBIR</button>
                </div>

                <div class="document-item flex items-center p-4 bg-white dark:bg-white/5 rounded-xl border border-slate-200 dark:border-white/10">
                    <span class="material-symbols-outlined text-primary text-3xl">gavel</span>
                    <div class="ml-4 flex-1">
                        <h4 class="font-bold text-sm">Antecedentes Penales</h4>
                        <p class="text-[10px] text-slate-500 uppercase">Certificado Oficial</p>
                    </div>
                    <input type="file" id="file-antecedentes" class="hidden" required>
                    <button type="button" onclick="document.getElementById('file-antecedentes').click()" class="px-4 py-2 bg-slate-100 dark:bg-white/10 rounded-lg text-xs font-bold hover:bg-primary hover:text-white transition-all">SUBIR</button>
                </div>
            </div>

            <p class="text-[9px] text-slate-500 text-center mt-6 uppercase font-bold tracking-tighter">
                Al finalizar, autoriza la validaci√≥n de antecedentes con bases de datos gubernamentales.
            </p>
        </div>
    </form>
</main>

<footer class="sticky bottom-0 bg-background-light dark:bg-background-dark p-4 border-t border-slate-200 dark:border-white/10">
    <button id="final-btn" form="main-form" class="w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl shadow-lg transition-all flex items-center justify-center gap-2 group hidden">
        FINALIZAR REGISTRO
        <span class="material-symbols-outlined group-hover:translate-x-1 transition-transform">arrow_forward</span>
    </button>
    
    <p class="text-center text-[10px] text-slate-400 mt-2 font-bold uppercase tracking-widest">
        KM0 by CORPORACI√ìN 360
    </p>
</footer>

<script>
    const placaInput = document.getElementById('placa');
    const cedulaInput = document.getElementById('cedula');
    const telInput = document.getElementById('tel');
    const nombreInput = document.getElementById('nombre');

    // Formato de placa IU-595T
    placaInput.addEventListener('input', (e) => {
        let val = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
        if (val.length > 2) val = val.slice(0, 2) + '-' + val.slice(2);
        e.target.value = val;
    });

    // Validaciones b√°sicas
    cedulaInput.addEventListener('input', (e) => e.target.value = e.target.value.replace(/\D/g, ''));
    telInput.addEventListener('input', (e) => e.target.value = e.target.value.replace(/\D/g, ''));
    nombreInput.addEventListener('input', (e) => e.target.value = e.target.value.replace(/[^a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]/g, ''));

    function goToStep2() {
        const email = document.getElementById('email').value;
        const nombre = nombreInput.value;
        const cedula = cedulaInput.value;
        const tel = telInput.value;
        const placa = placaInput.value;
        const marca = document.getElementById('marca').value;

        // Validar que todos los campos del paso 1 est√©n llenos
        if (!nombre || !email || !cedula || !tel || !placa || !marca) {
            alert("Por favor, complete todos los campos obligatorios.");
            return;
        }

        if (cedula.length !== 10) { alert("C√©dula inv√°lida."); return; }
        if (tel.length !== 9) { alert("Tel√©fono incompleto."); return; }

        // Cambio visual de paso
        document.getElementById('step-1').classList.remove('active');
        document.getElementById('step-2').classList.add('active');
        document.getElementById('final-btn').classList.remove('hidden');
        
        // Actualizar progreso
        document.getElementById('progress-bar').style.width = '75%';
        document.getElementById('progress-percent').innerText = '75%';
        document.getElementById('step-title-text').innerText = 'Paso 2 de 2';
        document.getElementById('step-desc-text').innerText = 'Documentaci√≥n y Verificaci√≥n';
        
        window.scrollTo(0,0);
    }

    function handleBack() {
        if (document.getElementById('step-2').classList.contains('active')) {
            document.getElementById('step-2').classList.remove('active');
            document.getElementById('step-1').classList.add('active');
            document.getElementById('final-btn').classList.add('hidden');
            document.getElementById('progress-bar').style.width = '35%';
            document.getElementById('progress-percent').innerText = '35%';
            document.getElementById('step-title-text').innerText = 'Paso 1 de 2';
            document.getElementById('step-desc-text').innerText = 'Datos Personales y Veh√≠culo';
        } else {
            window.history.back();
        }
    }

    document.getElementById('main-form').onsubmit = (e) => {
        e.preventDefault();
        alert("¬°Registro Finalizado! Tu informaci√≥n est√° siendo procesada por Corporaci√≥n 360.");
    };
</script>

</body>
</html>
